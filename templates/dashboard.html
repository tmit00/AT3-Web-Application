<!-- Template Inheritance -->
<!-- This template inherits from a base template called "base.html" -->
{% extends "base.html" %}

<!-- Block for the title of the page -->
{% block title %}ToDo Task List{% endblock %}

<!-- Block for the main content of the page -->
{% block content %} 

<div class="container">
    <!-- Main heading for the ToDo Tasks page -->
    <h1>ToDo Tasks</h1>

    <!-- Button group for task actions -->
    <div class="button-group">
        <!-- Link to the "Add Task" page -->
        <a href="{{ url_for('todo_routes.create_task') }}" class="add-task-button">Add Task</a>
        
    </div>

    <!-- Table to display the list of tasks -->
    <table>
        <thead>
            <!-- Table header row defining the columns: ID, Title, Description, Status, Priority -->
            <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Description</th>
                <th>Status</th>
                <th>Priority</th>
                <th>Mark Complete</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            <!-- Loop through the tasks list passed from the backend and generate a row for each task -->
            {% for task in tasks %}
            <tr>
                <!-- Display task ID -->
                <td>{{ task.id }}</td>
                <!-- Display task title -->
                <td>{{ task.title }}</td>
                <!-- Display task description -->
                <td>{{ task.description }}</td>
                <!-- Display task status: Complete or Incomplete -->
                <td class="{{ 'complete' if task.is_complete else 'incomplete' }}">
                    {{ 'Complete' if task.is_complete else 'Incomplete' }}
                </td>
                <!-- Display task priority -->
                <td>{{ task.priority }}</td>
                <td><a href="{{ url_for('todo_routes.confirm_complete', task_id=task.id) }}" class="mark-complete-button">Mark Complete</a></td>
                <td><a href="{{ url_for('todo_routes.confirm_delete', task_id=task.id) }}" class="delete-task-button">Delete Task</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}